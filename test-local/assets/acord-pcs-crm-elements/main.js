import{Ba as V,E as S,F,G as l,Ma as j,N as C,Na as D,Oa as Z,P as w,Ua as M,Va as T,Wa as _,Ya as O,c as g,e as E,eb as x,i as y,j as b,r as I,u as v,w as R}from"./chunk-GXYEV7RV.js";var k={schedule(n,t){let e=setTimeout(n,t);return()=>clearTimeout(e)}};function z(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function L(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}var p;function H(n,t){if(!p){let e=Element.prototype;p=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE?p.call(n,t):!1}function Y(n){let t={};return n.forEach(({propName:e,templateName:s,transform:r})=>{t[z(s)]=[e,r]}),t}function $(n,t){return t.get(l).resolveComponentFactory(n).inputs}function q(n,t){let e=n.childNodes,s=t.map(()=>[]),r=-1;t.some((c,u)=>c==="*"?(r=u,!0):!1);for(let c=0,u=e.length;c<u;++c){let o=e[c],i=B(o,t,r);i!==-1&&s[i].push(o)}return s}function B(n,t,e){let s=e;return L(n)&&t.some((r,c)=>r!=="*"&&H(n,r)?(s=c,!0):!1),s}var G=10,h=class{componentFactory;inputMap=new Map;constructor(t,e){this.componentFactory=e.get(l).resolveComponentFactory(t);for(let s of this.componentFactory.inputs)this.inputMap.set(s.propName,s.templateName)}create(t){return new m(this.componentFactory,t,this.inputMap)}},m=class{componentFactory;injector;inputMap;eventEmitters=new E(1);events=this.eventEmitters.pipe(b(t=>y(...t)));componentRef=null;scheduledDestroyFn=null;initialInputValues=new Map;ngZone;elementZone;appRef;cdScheduler;constructor(t,e,s){this.componentFactory=t,this.injector=e,this.inputMap=s,this.ngZone=this.injector.get(v),this.appRef=this.injector.get(w),this.cdScheduler=e.get(R),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(t){this.runInZone(()=>{if(this.scheduledDestroyFn!==null){this.scheduledDestroyFn(),this.scheduledDestroyFn=null;return}this.componentRef===null&&this.initializeComponent(t)})}disconnect(){this.runInZone(()=>{this.componentRef===null||this.scheduledDestroyFn!==null||(this.scheduledDestroyFn=k.schedule(()=>{this.componentRef!==null&&(this.componentRef.destroy(),this.componentRef=null)},G))})}getInputValue(t){return this.runInZone(()=>this.componentRef===null?this.initialInputValues.get(t):this.componentRef.instance[t])}setInputValue(t,e){if(this.componentRef===null){this.initialInputValues.set(t,e);return}this.runInZone(()=>{this.componentRef.setInput(this.inputMap.get(t)??t,e),S(this.componentRef.hostView)&&(F(this.componentRef.changeDetectorRef),this.cdScheduler.notify(6))})}initializeComponent(t){let e=I.create({providers:[],parent:this.injector}),s=q(t,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,s,t),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.appRef.attachView(this.componentRef.hostView),this.componentRef.hostView.detectChanges()}initializeInputs(){for(let[t,e]of this.initialInputValues)this.setInputValue(t,e);this.initialInputValues.clear()}initializeOutputs(t){let e=this.componentFactory.outputs.map(({propName:s,templateName:r})=>{let c=t.instance[s];return new g(u=>{let o=c.subscribe(i=>u.next({name:r,value:i}));return()=>o.unsubscribe()})});this.eventEmitters.next(e)}runInZone(t){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(t):t()}},f=class extends HTMLElement{ngElementEventsSubscription=null};function P(n,t){let e=$(n,t.injector),s=t.strategyFactory||new h(n,t.injector),r=Y(e);class c extends f{injector;static observedAttributes=Object.keys(r);get ngElementStrategy(){if(!this._ngElementStrategy){let o=this._ngElementStrategy=s.create(this.injector||t.injector);e.forEach(({propName:i,transform:a})=>{if(!this.hasOwnProperty(i))return;let d=this[i];delete this[i],o.setInputValue(i,d,a)})}return this._ngElementStrategy}_ngElementStrategy;constructor(o){super(),this.injector=o}attributeChangedCallback(o,i,a,d){let[A,N]=r[o];this.ngElementStrategy.setInputValue(A,a,N)}connectedCallback(){let o=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),o=!0),this.ngElementStrategy.connect(this),o||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(o=>{let i=new CustomEvent(o.name,{detail:o.value});this.dispatchEvent(i)})}}return e.forEach(({propName:u,transform:o,isSignal:i})=>{Object.defineProperty(c.prototype,u,{get(){let a=this.ngElementStrategy.getInputValue(u);return i&&C(a)?a():a},set(a){this.ngElementStrategy.setInputValue(u,a,o)},configurable:!0,enumerable:!0})}),c}(async()=>{let n=await j({providers:[V(),D(Z([x])),M(O,T())]});customElements.define("acord-pcs-crm-app",P(_,{injector:n.injector})),console.log("ACORD PCS CRM elements registered: acord-pcs-crm-app")})();
