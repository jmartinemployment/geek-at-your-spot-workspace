import{a as M}from"./chunk-X3P5IQZN.js";import{a as T}from"./chunk-R3ZE6C4I.js";import{C as l,Ga as h,Ia as I,J as E,Ja as P,Ka as w,La as N,Pa as L,R as b,S as x,Sa as R,W as C,X as i,Y as t,Z as o,ab as j,da as u,ga as _,ja as n,ka as r,la as d,o as f,v as g,va as y,xa as s,ya as v,za as D}from"./chunk-GXYEV7RV.js";var O=a=>["/policies",a];function B(a,c){a&1&&(i(0,"button",3),o(1,"i",8),n(2," Edit "),t())}function k(a,c){a&1&&o(0,"app-loading",5)}function A(a,c){if(a&1&&(i(0,"div",6),o(1,"i",9),n(2),t()),a&2){let e=u();l(2),d(" ",e.error()," ")}}function F(a,c){if(a&1&&(i(0,"a",22),n(1),t()),a&2){let e=u(2);C("routerLink",y(2,O,e.claim().policyId)),l(),d(" ",e.claim().policy.policyNumber," ")}}function U(a,c){if(a&1&&n(0),a&2){let e=u(2);d(" ",e.claim().policyId," ")}}function V(a,c){if(a&1&&(i(0,"div",11)(1,"div",12)(2,"h5",13),o(3,"i",47),n(4," Adjuster "),t()(),i(5,"div",15)(6,"div",16)(7,"div",17)(8,"label",18),n(9,"Name"),t(),i(10,"p",48),n(11),t()(),i(12,"div",17)(13,"label",18),n(14,"Phone"),t(),i(15,"p",20),o(16,"i",49),n(17),t()(),i(18,"div",17)(19,"label",18),n(20,"Email"),t(),i(21,"p",20),o(22,"i",50),n(23),t()()()()()),a&2){let e=u(2);l(11),r(e.claim().adjusterName),l(6),d(" ",e.claim().adjusterPhone||"\u2014"," "),l(6),d(" ",e.claim().adjusterEmail||"\u2014"," ")}}function G(a,c){a&1&&(i(0,"button",46),o(1,"i",51),n(2," Close Claim "),t())}function W(a,c){if(a&1&&(i(0,"div",7)(1,"div",10)(2,"div",11)(3,"div",12)(4,"h5",13),o(5,"i",14),n(6," Claim Information "),t()(),i(7,"div",15)(8,"div",16)(9,"div",17)(10,"label",18),n(11,"Claim Number"),t(),i(12,"p",19),n(13),t()(),i(14,"div",17)(15,"label",18),n(16,"Status"),t(),i(17,"p",20)(18,"span",21),n(19),t()()(),i(20,"div",17)(21,"label",18),n(22,"Days Open"),t(),i(23,"p",20),n(24),t()(),i(25,"div",17)(26,"label",18),n(27,"Loss Date"),t(),i(28,"p",20),n(29),s(30,"date"),t()(),i(31,"div",17)(32,"label",18),n(33,"Reported Date"),t(),i(34,"p",20),n(35),s(36,"date"),t()(),i(37,"div",17)(38,"label",18),n(39,"Policy"),t(),i(40,"p",20),b(41,F,2,4,"a",22)(42,U,1,1),t()()()()(),i(43,"div",11)(44,"div",12)(45,"h5",13),o(46,"i",23),n(47," Loss Details "),t()(),i(48,"div",15)(49,"div",16)(50,"div",24)(51,"label",18),n(52,"Loss Description"),t(),i(53,"p",20),n(54),t()(),i(55,"div",24)(56,"label",18),n(57,"Loss Location"),t(),i(58,"p",20),o(59,"i",25),n(60),t()()()()(),b(61,V,24,3,"div",11),t(),i(62,"div",26)(63,"div",11)(64,"div",12)(65,"h5",13),o(66,"i",27),n(67," Financial Summary "),t()(),i(68,"div",15)(69,"div",28)(70,"div",29)(71,"span",30),n(72,"Reserve"),t(),i(73,"span",31),n(74),s(75,"currency"),t()(),i(76,"div",32),o(77,"div",33),t(),i(78,"small",30),n(79),s(80,"number"),t()(),i(81,"div",34)(82,"span",30),n(83,"Total Paid"),t(),i(84,"span",35),n(85),s(86,"currency"),t()(),i(87,"div",36)(88,"span",30),n(89,"Remaining"),t(),i(90,"span"),n(91),s(92,"currency"),t()()()(),i(93,"div",37)(94,"div",12)(95,"h5",13),o(96,"i",38),n(97," Actions "),t()(),i(98,"div",15)(99,"div",39)(100,"button",40),o(101,"i",41),n(102," Record Payment "),t(),i(103,"button",42),o(104,"i",43),n(105," Add Note "),t(),i(106,"button",44),o(107,"i",45),n(108," Upload Document "),t(),b(109,G,3,0,"button",46),t()()()()()),a&2){let e=u();l(13),r(e.claim().claimNumber),l(5),C("ngClass",e.getStatusClass(e.claim().claimStatus)),l(),d(" ",e.claim().claimStatus," "),l(5),d("",e.daysSinceLoss," days"),l(5),r(v(30,17,e.claim().lossDate)),l(6),r(v(36,19,e.claim().reportedDate)),l(6),x(e.claim().policy?41:42),l(13),r(e.claim().lossDescription||"\u2014"),l(6),d(" ",e.lossLocation," "),l(),x(e.claim().adjusterName?61:-1),l(13),r(v(75,21,e.claim().totalReserve)),l(3),_("width",e.paidPercentage,"%"),l(2),d("",D(80,23,e.paidPercentage,"1.0-0"),"% paid"),l(6),r(v(86,26,e.claim().totalPaid)),l(6),r(v(92,28,(e.claim().totalReserve||0)-(e.claim().totalPaid||0))),l(18),x(e.claim().claimStatus!=="CLOSED"?109:-1)}}var $=(()=>{class a{route=f(L);claimService=f(j);claim=g(null);loading=g(!0);error=g(null);ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&e!=="new"?this.loadClaim(e):this.loading.set(!1)}loadClaim(e){this.claimService.getById(e).subscribe({next:m=>{this.claim.set(m),this.loading.set(!1)},error:()=>{this.error.set("Failed to load claim"),this.loading.set(!1)}})}getStatusClass(e){return{OPEN:"bg-warning text-dark",IN_PROGRESS:"bg-info",UNDER_REVIEW:"bg-primary",APPROVED:"bg-success",DENIED:"bg-danger",CLOSED:"bg-secondary"}[e]||"bg-secondary"}get daysSinceLoss(){let e=this.claim();if(!e)return 0;let m=new Date(e.lossDate);return Math.ceil((new Date().getTime()-m.getTime())/(1e3*60*60*24))}get lossLocation(){let e=this.claim();if(!e)return"\u2014";let m=[e.lossAddress,e.lossCity,e.lossState].filter(Boolean);return m.length>0?m.join(", "):"\u2014"}get paidPercentage(){let e=this.claim();return!e||!e.totalReserve||e.totalReserve===0?0:(e.totalPaid||0)/e.totalReserve*100}static \u0275fac=function(m){return new(m||a)};static \u0275cmp=E({type:a,selectors:[["app-claim-detail"]],decls:9,vars:3,consts:[["subtitle","Claim Details",3,"title"],["routerLink","/claims",1,"btn","btn-outline-secondary","me-2"],[1,"bi","bi-arrow-left","me-1"],[1,"btn","btn-primary"],[1,"container-fluid","px-4"],["message","Loading claim details..."],[1,"alert","alert-danger"],[1,"row"],[1,"bi","bi-pencil","me-1"],[1,"bi","bi-exclamation-triangle","me-2"],[1,"col-lg-8"],[1,"card","mb-4"],[1,"card-header"],[1,"card-title","mb-0"],[1,"bi","bi-exclamation-circle","me-2"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-4"],[1,"form-label","text-muted","small"],[1,"mb-0","fw-bold","fs-5"],[1,"mb-0"],[1,"badge",3,"ngClass"],[1,"text-decoration-none",3,"routerLink"],[1,"bi","bi-file-text","me-2"],[1,"col-12"],[1,"bi","bi-geo-alt","me-1"],[1,"col-lg-4"],[1,"bi","bi-currency-dollar","me-2"],[1,"mb-4"],[1,"d-flex","justify-content-between","mb-1"],[1,"text-muted"],[1,"fs-5","fw-bold","text-warning"],[1,"progress",2,"height","8px"],[1,"progress-bar","bg-success"],[1,"d-flex","justify-content-between","mb-2"],[1,"fw-bold","text-success"],[1,"d-flex","justify-content-between"],[1,"card"],[1,"bi","bi-lightning","me-2"],[1,"d-grid","gap-2"],[1,"btn","btn-outline-primary"],[1,"bi","bi-cash","me-1"],[1,"btn","btn-outline-secondary"],[1,"bi","bi-file-earmark-plus","me-1"],[1,"btn","btn-outline-info"],[1,"bi","bi-upload","me-1"],[1,"btn","btn-outline-danger"],[1,"bi","bi-person-badge","me-2"],[1,"mb-0","fw-medium"],[1,"bi","bi-telephone","me-1"],[1,"bi","bi-envelope","me-1"],[1,"bi","bi-x-circle","me-1"]],template:function(m,p){if(m&1&&(i(0,"app-navbar",0)(1,"a",1),o(2,"i",2),n(3," Back "),t(),b(4,B,3,0,"button",3),t(),i(5,"div",4),b(6,k,1,0,"app-loading",5)(7,A,3,1,"div",6)(8,W,110,30,"div",7),t()),m&2){let S;C("title",((S=p.claim())==null?null:S.claimNumber)||"New Claim"),l(4),x(p.claim()?4:-1),l(2),x(p.loading()?6:p.error()?7:p.claim()?8:-1)}},dependencies:[N,h,R,T,M,P,w,I],styles:[".card[_ngcontent-%COMP%]{border:none;box-shadow:0 .125rem .25rem #00000013}.card-header[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #e9ecef}.form-label[_ngcontent-%COMP%]{margin-bottom:.25rem}"]})}return a})();export{$ as ClaimDetailComponent};
