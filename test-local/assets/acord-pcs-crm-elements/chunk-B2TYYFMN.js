import{a as B}from"./chunk-X3P5IQZN.js";import{a as w}from"./chunk-R3ZE6C4I.js";import{C as o,Ia as I,J as u,La as T,Pa as N,R as m,S as p,Sa as A,U as g,V as E,W as S,X as n,Y as i,Z as d,_a as O,da as c,ha as f,ja as a,ka as x,la as s,ma as P,na as h,o as b,v as _,xa as v,ya as D,za as C}from"./chunk-GXYEV7RV.js";var M=(t,r)=>r.id;function k(t,r){t&1&&(n(0,"button",3),d(1,"i",8),a(2," Edit "),i())}function F(t,r){t&1&&d(0,"app-loading",5)}function R(t,r){if(t&1&&(n(0,"div",6),d(1,"i",9),a(2),i()),t&2){let e=c();o(2),s(" ",e.error()," ")}}function L(t,r){if(t&1&&(n(0,"div",17)(1,"label",18),a(2,"Date of Birth"),i(),n(3,"p",19),a(4),v(5,"date"),i()()),t&2){let e=c(3);o(4),x(D(5,1,e.party().dateOfBirth))}}function $(t,r){if(t&1&&(n(0,"div",17)(1,"label",18),a(2,"Full Name"),i(),n(3,"p",32),a(4),i()(),m(5,L,6,3,"div",17)),t&2){let e=c(2);o(4),P("",e.party().firstName," ",e.party().lastName),o(),p(e.party().dateOfBirth?5:-1)}}function j(t,r){if(t&1&&(n(0,"div",17)(1,"label",18),a(2,"DBA"),i(),n(3,"p",19),a(4),i()()),t&2){let e=c(3);o(4),x(e.party().dba)}}function U(t,r){if(t&1&&(n(0,"div",17)(1,"label",18),a(2,"Company Name"),i(),n(3,"p",32),a(4),i()(),m(5,j,5,1,"div",17)),t&2){let e=c(2);o(4),x(e.party().commercialName),o(),p(e.party().dba?5:-1)}}function G(t,r){if(t&1&&(n(0,"div",17)(1,"label",18),a(2),i(),n(3,"p",19),a(4),i()()),t&2){let e=c(2);o(2),s("Tax ID (",e.party().taxIdType,")"),o(2),x(e.party().taxId)}}function Z(t,r){t&1&&(n(0,"span",35),a(1,"Primary"),i())}function q(t,r){if(t&1&&(a(0),d(1,"br")),t&2){let e=c().$implicit;s(" ",e.line2)}}function z(t,r){if(t&1&&(n(0,"div",33)(1,"div",31)(2,"span",34),a(3),i(),m(4,Z,2,0,"span",35),i(),n(5,"p",19),a(6),d(7,"br"),m(8,q,2,1),a(9),i()()),t&2){let e=r.$implicit;o(3),x(e.addressType),o(),p(e.isPrimary?4:-1),o(2),s(" ",e.line1),o(2),p(e.line2?8:-1),o(),h(" ",e.city,", ",e.stateProvince," ",e.postalCode," ")}}function H(t,r){if(t&1&&g(0,z,10,7,"div",33,M),t&2){let e=c(2);E(e.party().addresses)}}function J(t,r){t&1&&(n(0,"p",22),a(1,"No addresses on file"),i())}function K(t,r){if(t&1&&(n(0,"div",7)(1,"div",10)(2,"div",11)(3,"div",12)(4,"h5",13),d(5,"i",14),a(6," Basic Information "),i()(),n(7,"div",15)(8,"div",16)(9,"div",17)(10,"label",18),a(11,"Type"),i(),n(12,"p",19)(13,"span",20),a(14),i()()(),m(15,$,6,3)(16,U,6,2),m(17,G,5,2,"div",17),i()()(),n(18,"div",11)(19,"div",12)(20,"h5",13),d(21,"i",21),a(22," Addresses "),i()(),n(23,"div",15),m(24,H,2,0)(25,J,2,0,"p",22),i()()(),n(26,"div",23)(27,"div",11)(28,"div",12)(29,"h5",13),d(30,"i",24),a(31," Contact Information "),i()(),n(32,"div",15)(33,"div",25)(34,"label",18),a(35,"Phone"),i(),n(36,"p",19),d(37,"i",24),a(38),i()(),n(39,"div",25)(40,"label",18),a(41,"Email"),i(),n(42,"p",19),d(43,"i",26),a(44),i()()()(),n(45,"div",27)(46,"div",12)(47,"h5",13),d(48,"i",28),a(49," Summary "),i()(),n(50,"div",15)(51,"div",29)(52,"span",30),a(53,"Status"),i(),n(54,"span",20),a(55),i()(),n(56,"div",29)(57,"span",30),a(58,"Created"),i(),n(59,"span"),a(60),v(61,"date"),i()(),n(62,"div",31)(63,"span",30),a(64,"Updated"),i(),n(65,"span"),a(66),v(67,"date"),i()()()()()()),t&2){let e=c();o(13),f("bg-info",e.party().partyType==="PERSON")("bg-primary",e.party().partyType==="ORGANIZATION"),o(),s(" ",e.party().partyType," "),o(),p(e.party().partyType==="PERSON"?15:16),o(2),p(e.party().taxId?17:-1),o(7),p(e.party().addresses&&e.party().addresses.length>0?24:25),o(14),s(" ",e.primaryPhone," "),o(6),s(" ",e.primaryEmail," "),o(10),f("bg-success",e.party().isActive)("bg-danger",!e.party().isActive),o(),s(" ",e.party().isActive?"Active":"Inactive"," "),o(5),x(C(61,17,e.party().createdAt,"shortDate")),o(6),x(C(67,20,e.party().updatedAt,"shortDate"))}}var ae=(()=>{class t{route=b(N);partyService=b(O);party=_(null);loading=_(!0);error=_(null);ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&e!=="new"?this.loadParty(e):this.loading.set(!1)}loadParty(e){this.partyService.getById(e).subscribe({next:l=>{this.party.set(l),this.loading.set(!1)},error:l=>{this.error.set("Failed to load party"),this.loading.set(!1)}})}get displayName(){let e=this.party();return e?e.partyType==="PERSON"?`${e.firstName} ${e.lastName}`:e.commercialName||e.dba||"Unknown":""}get primaryAddress(){let e=this.party()?.addresses?.find(l=>l.isPrimary)||this.party()?.addresses?.[0];return e?[e.line1,e.city,e.stateProvince,e.postalCode].filter(Boolean).join(", "):"\u2014"}get primaryPhone(){return(this.party()?.phones?.find(l=>l.isPrimary)||this.party()?.phones?.[0])?.phoneNumber||"\u2014"}get primaryEmail(){return(this.party()?.emails?.find(l=>l.isPrimary)||this.party()?.emails?.[0])?.emailAddress||"\u2014"}static \u0275fac=function(l){return new(l||t)};static \u0275cmp=u({type:t,selectors:[["app-party-detail"]],decls:9,vars:3,consts:[["subtitle","Party Details",3,"title"],["routerLink","/parties",1,"btn","btn-outline-secondary","me-2"],[1,"bi","bi-arrow-left","me-1"],[1,"btn","btn-primary"],[1,"container-fluid","px-4"],["message","Loading party details..."],[1,"alert","alert-danger"],[1,"row"],[1,"bi","bi-pencil","me-1"],[1,"bi","bi-exclamation-triangle","me-2"],[1,"col-lg-8"],[1,"card","mb-4"],[1,"card-header"],[1,"card-title","mb-0"],[1,"bi","bi-person","me-2"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-6"],[1,"form-label","text-muted","small"],[1,"mb-0"],[1,"badge"],[1,"bi","bi-geo-alt","me-2"],[1,"text-muted","mb-0"],[1,"col-lg-4"],[1,"bi","bi-telephone","me-2"],[1,"mb-3"],[1,"bi","bi-envelope","me-2"],[1,"card"],[1,"bi","bi-bar-chart","me-2"],[1,"d-flex","justify-content-between","mb-2"],[1,"text-muted"],[1,"d-flex","justify-content-between"],[1,"mb-0","fw-medium"],[1,"border-bottom","pb-3","mb-3"],[1,"badge","bg-secondary","mb-2"],[1,"badge","bg-success"]],template:function(l,y){l&1&&(n(0,"app-navbar",0)(1,"a",1),d(2,"i",2),a(3," Back "),i(),m(4,k,3,0,"button",3),i(),n(5,"div",4),m(6,F,1,0,"app-loading",5)(7,R,3,1,"div",6)(8,K,68,23,"div",7),i()),l&2&&(S("title",y.displayName||"New Party"),o(4),p(y.party()?4:-1),o(2),p(y.loading()?6:y.error()?7:y.party()?8:-1))},dependencies:[T,A,w,B,I],styles:[".card[_ngcontent-%COMP%]{border:none;box-shadow:0 .125rem .25rem #00000013}.card-header[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #e9ecef}.form-label[_ngcontent-%COMP%]{margin-bottom:.25rem}"]})}return t})();export{ae as PartyDetailComponent};
